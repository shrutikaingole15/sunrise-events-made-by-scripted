{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Booking - Sunrise Events{% endblock %}

{% block content %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;700&family=Nunito:wght@300;400;700&display=swap');

    /* Full Page Background with Overlay */
    body {
        background: url('{% static "images/eng1.jpg" %}') center/cover no-repeat;
        position: relative;
    }

    body::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(255, 255, 255, 0.6);
        z-index: -1;
    }

    /* Title Styling */
    .booking-title {
        font-family: 'Great Vibes', cursive;
        font-size: 120px;
        color: black;
        text-align: center;
        white-space: nowrap;
        position: absolute;
        top: 10%;
        right: 10%;
        z-index: 10;
    }

    /* Hero Section */
    .hero-section {
        position: relative;
        height: 200px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        text-align: center;
    }

    /* Form & Info Section */
    .form-container {
        display: flex;
        justify-content: center;
        align-items: stretch;
        min-height: 60vh;
        width: 80%;
        max-width: 900px;
        margin: auto;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
        position: relative;
        overflow: hidden;
    }

    .form-box, .info-box {
        flex: 1;
        background: white;
        padding: 24px;
        font-size: 20px;
        font-family: "Lexend", serif;
        border-radius: 8px;
    }

    .form-box {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    
    .info-box {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        text-align: justify;
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: relative;
    }

    .booking-info {
        margin-top: 100px;
        font-size: 24px;
        font-family: "Nunito", sans-serif;
        line-height: 1.6;
    }

    /* Position Title Inside the Right Box */
    .title-wrapper {
        position: absolute;
        top: -50px;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        text-align: center;
        z-index: 20;
    }
</style>

<!-- Hero Section -->
<section class="hero-section">
    <div class="container position-relative z-2">
    </div>
</section>

<!-- Form & Info Section -->
<section class="form-container" style="padding: 100px 0;">
    <!-- Form Box -->
    <div class="form-box">
        <form id="bookingForm" method="post">
            {% csrf_token %}
            {{ form|crispy }}
            <button type="submit" id="submitBtn" class="btn btn-lg fw-semibold transition duration-300" 
                style="background-color: #7B8E69; color: #fff; border: none; width: 100%; padding: 12px 24px; border-radius: 0.5rem; font-size: 1.125rem;">
                Submit Booking
            </button>
        </form>
    </div>

    <!-- Info Box -->
    <div class="info-box">
        <div class="title-wrapper">
            <h1 class="booking-title">Booking</h1>
        </div>
        <div class="booking-info">
            <p>We specialize in creating memorable experiences tailored to your needs. Let us help bring your vision to life!</p>
            <p>At Chappelow Events, we help manage your big ideas and your smallest concerns to ensure you are stress-free and enjoying every moment. For more than a decade, we’ve been working with clients to create exceptional experiences for their nonprofit fundraiser or social gathering.</p>
            <p>As a boutique company, we’re driven by a childlike excitement for what we do and a love of collaboration with our clients. It’s our goal to leave you and your guests with an event that exceeds expectations and lasts in your memories long after the last toast.</p>
        </div>        
    </div>
</section>

<!-- Confetti Effect -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.2/dist/confetti.browser.min.js"></script>
<script>
    document.getElementById("bookingForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevents form from submitting immediately

        // Confetti effect
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });

        // Simulate form submission delay for user experience
        setTimeout(() => {
            this.submit();
        }, 1000);
    });
</script>

{% endblock %}
